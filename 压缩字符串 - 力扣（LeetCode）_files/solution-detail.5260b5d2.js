(window["nojMonomainWebpackJsonpproduction"]=window["nojMonomainWebpackJsonpproduction"]||[]).push([[235],{GlMa:function(e,t,r){"use strict";r.r(t);var o=r("ERkP");var l=r.n(o);var i=r("8JP3");var n=r("zRE0");var u=r("D57K");var a=r("excc");var s=r("FLAH");var c=r("DuHN");var p=r("IJu9");var d=r("1l9P");var f=r("zCf4");var v=r("o/8Z");var g=r("nPqx");var m=r("xmbF");var h=r("e96/");var S=r("UqMZ");var b=r("u+Aj");var y=r("YnYl");var C=r("8NtH");var D=r("8d7B");var x=r("guoW");var E=r("pnSG");var k=r("nnm9");var q=r.n(k);var w=r("1szP");var I=r("LJ7e");var j=r("2DAU");var A=Object(I["default"])(j["Discuss"],{target:"e5i1odf0"})({minHeight:"auto"},"label:StyledDiscuss;");var O=function(e){u["__extends"](o,e);function o(){var r=e!==null&&e.apply(this,arguments)||this;r.tracker={cancelComment:q.a,deleteComment:q.a,cancelDeleteComment:q.a,confirmDeleteComment:q.a,submitComment:q.a};r.generateShareUrl=function(e){var t=window.location.origin+"/problems/"+r.props.questionSlug+"/solution";return t+"/"+r.props.articleSlug+"/"+e};return r}o.scrollToComments=function(){var e=window.document.querySelector("#"+o.targetID);if(!e){return}var t=e&&e.nextElementSibling;if(t){var r=t.querySelector("textarea");if(r){r.focus();r.scrollIntoView({block:"center"})}}};o.resetScrollPosition=function(){var e=window.document.querySelector("#"+o.targetID);if(e){e.parentElement.scrollIntoView({block:"center"})}};o.updateScrollPosition=function(){if(window.location.hash==="#comment"){o.scrollToComments()}else{o.resetScrollPosition()}};Object.defineProperty(o.prototype,"sharedCommentId",{get:function(){return this.props.sharedCommentId||null},enumerable:true,configurable:true});o.prototype.componentDidMount=function(){o.updateScrollPosition()};o.prototype.componentDidUpdate=function(e){if(e.topicId!==this.props.topicId){o.updateScrollPosition()}};o.prototype.render=function(){return this.props.userStatus&&l.a.createElement(w["ResizeProvider"],null,l.a.createElement("div",{id:o.targetID}),l.a.createElement(A,{key:this.props.topicId,topicId:this.props.topicId,sharedCommentId:this.sharedCommentId,isActive:true,generateShareUrl:this.generateShareUrl,tracker:this.tracker,userStatus:this.props.userStatus}))};o.targetID="COMMENTS_TARGET_ID";return o}(l.a.PureComponent);var P=r("SwI/");var B=r("60w7");var R=r("v31z");var _=I["default"].div({boxSizing:"border-box",height:"100%",display:"flex",alignItems:"center",background:P["a"].white,borderTop:"1px solid "+P["a"].dark8,transition:"padding .2s ease-out"},function(e){var t=e.resizing;return{padding:t?"10px 15px 10px 10px":"10px 15px 10px 0"}},"label:Container;");var L=Object(I["default"])(function(e){var t=e.isLiked,r=e.count,o=u["__rest"](e,["isLiked","count"]);return l.a.createElement(R["a"],u["__assign"]({type:t?"secondary":"default",icon:t?"thumb-up":"thumb-up-o",size:"sm"},o),Object(B["b"])(r)||"赞")},{target:"e5i1odf0"})({minWidth:"60px",marginRight:"5px"},"label:LikeButton;");var N=Object(I["default"])(function(e){return l.a.createElement(R["a"],u["__assign"]({size:"xs",type:"transparent"},e))},{target:"e5i1odf1"})({marginRight:"15px"},"label:ActionButton;");var z=I["default"].div({display:"flex",flexDirection:"column",alignItems:"center"},"label:EllipsisContentContainer;");var T=I["default"].button({border:"none",outline:"none",background:"transparent",userSelect:"none",cursor:"pointer",color:P["a"].dblue9,fontSize:"12px","&:not(:nth-last-child(1))":{marginBottom:"3px"}},"label:EllipsisButton;");var F=Object(I["default"])(T,{target:"e5i1odf2"})({color:P["a"].red5},"label:EllipsisDangerButton;");var W=function(e){u["__extends"](r,e);function r(){var n=e!==null&&e.apply(this,arguments)||this;n.state={reportVisible:false,deleteVisible:false};n.closeDelete=function(){return n.setState({deleteVisible:false})};n.onDelete=function(){var e=n.props,t=e.solutionDetail,r=e.history;if(t&&t.article){n.props.deleteSolutionArticle({questionSlug:n.props.questionSlug,slug:t.article.slug,callback:function(){var e=window.location.pathname.replace(/solution\/.+$/,"solution");r.push(e)}})}};n.renderReactionButton=function(){if(!n.props.solutionDetail||!n.props.solutionDetail.article)return null;var e=n.props.solutionDetail.article;var t=n.props.solutionDetail.article,r=t.reactedType,o=t.slug;var i=!e.reactions||!e.reactions.length?undefined:new Map;if(i&&e.reactions)e.reactions.forEach(function(e){return i.set(e.reactionType,e.count)});return l.a.createElement(v["a"],{reactedWith:r,onReact:n.onReact,contentId:o,countMap:i})};n.onReact=function(e){var t=e.reactedWith,r=e.contentId,o=e.prevReactedWith;S["a"].ensureVerified(function(){if(o&&t===o){C["a"].questionDetail.solutionDetailRemoveReaction({questionSlug:n.props.questionSlug});n.props.removeReaction(r)}else{C["a"].questionDetail.solutionDetailAddReaction({questionSlug:n.props.questionSlug,reactionType:t});n.props.addReaction({articleSlug:r,reactionType:t})}},{user:n.context})()};n.onClickEdit=function(){return n.props.showSolutionEditorForEditingArticle(n.props.articleSlug)};n.showReport=function(){C["a"].questionDetail.solutionDetailClickReport({questionSlug:n.props.questionSlug});n.setState({reportVisible:true})};n.closeReport=function(){return n.setState({reportVisible:false})};n.onClickLike=function(){S["a"].ensureVerified(function(){var e=n.props,t=e.solutionDetail,r=e.articleSlug;if(t&&t.article){if(t.article.upvoted){n.props.cancelUpvoteArticle(r)}else{n.props.upvoteArticle(r)}}},{user:n.context})()};n.onClickFavorite=function(){S["a"].ensureVerified(function(){var e=n.props,t=e.solutionDetail,r=e.articleSlug;if(t&&t.article){if(t.article.isMyFavorite){C["a"].questionDetail.solutionDetailRemoveFavoriteArticle({questionSlug:n.props.questionSlug});n.props.removeFavoriteArticle(r)}else{C["a"].questionDetail.solutionDetailAddFavoriteArticle({questionSlug:n.props.questionSlug});n.props.addFavoriteArticle(r)}}},{user:n.context})()};n.deleteSolutionArticle=function(){C["a"].questionDetail.solutionDetailClickDelete({questionSlug:n.props.questionSlug});n.setState({deleteVisible:true})};return n}Object.defineProperty(r.prototype,"isAuthor",{get:function(){var e=this.props.solutionDetail;if(e&&e.article){return e.article.canEdit}return false},enumerable:true,configurable:true});r.prototype.render=function(){var t=this;if(!this.props.solutionDetail||!this.props.solutionDetail.article)return null;return l.a.createElement(x["a"],null,function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(_,{resizing:e},l.a.createElement(L,{isLiked:t.props.solutionDetail.article.upvoted,count:t.props.solutionDetail.article.upvoteCount,onClick:t.onClickLike}),t.renderReactionButton(),t.renderCommentButton(),t.renderShareButton(),t.renderFavoriteButton(),t.renderEditButton(),t.renderEllipsis()),l.a.createElement(b["a"],{visible:t.state.reportVisible,onClose:t.closeReport,resourceType:r.reportType,resourceId:t.props.solutionDetail.article.identifier}),l.a.createElement(g["a"],{visible:t.state.deleteVisible,onClose:t.closeDelete,onOk:t.onDelete,type:"threat"},"您确认删除此题解吗？"))})};r.prototype.renderCommentButton=function(){var e=this;var t=function(){O.scrollToComments();C["a"].questionDetail.solutionDetailClickComment({questionSlug:e.props.questionSlug})};var r=this.props.solutionDetail.article&&this.props.solutionDetail.article.topic;var o=r?r.commentCount:0;return l.a.createElement(N,{icon:"chat-o",onClick:t},m["a"].getButtonText(o))};r.prototype.renderShareButton=function(){var o=this;var e=function(){var e=o.props,t=e.questionSlug,r=e.articleSlug;h["a"].copy(Object(E["a"])({questionSlug:t,articleSlug:r}),function(){c["a"].success("已复制分享链接",1)});C["a"].questionDetail.solutionDetailClickShare({questionSlug:o.props.questionSlug})};return l.a.createElement(N,{icon:"share",onClick:e},"分享")};r.prototype.renderFavoriteButton=function(){if(this.props.solutionDetail&&this.props.solutionDetail.article){return l.a.createElement(N,{icon:this.props.solutionDetail.article.isMyFavorite?"favorite":"favorite-o",onClick:this.onClickFavorite},this.props.solutionDetail.article.isMyFavorite?"已收藏":"收藏")}else{return null}};r.prototype.renderEditButton=function(){return this.isAuthor&&l.a.createElement(N,{icon:"edit",onClick:this.onClickEdit},"编辑")};r.prototype.renderEllipsis=function(){var e=l.a.createElement(z,null,this.isAuthor?l.a.createElement(F,{onClick:this.deleteSolutionArticle},"删除"):l.a.createElement(T,{onClick:this.showReport},"举报"));return l.a.createElement(a["a"],{content:e,placement:"top",trigger:"click"},l.a.createElement(N,{icon:"ellipsis"}))};r.reportType=y["r"].Article;r.contextType=D["userContext"];return r}(l.a.PureComponent);var V=function(e){var t=e.solution;return t};var M=Object(d["a"])(n["c"])(V)(Object(f["withRouter"])(W));var H=r("fsDi");var U=r("9xBf");var J=r("sYqU");var G=r("lDJ/");var Y=r("/vgw");var Z=Object(I["default"])("div",{target:"e5i1odf0"})({},"label:Wrapper;");var K=Object(I["default"])("div",{target:"e5i1odf1"})({"> div":{padding:"10px 0"}},"label:Content;");var X=r("ttV/");var $=l.a.memo(function(e){var t=Object(X["a"])([e.questionSlug,e.article],function(e){var t=u["__read"](e,2),r=t[0],o=t[1];return Q(o.author.username,r,o.slug)});return l.a.createElement(Z,null,l.a.createElement(Y["a"],u["__assign"]({},e,{mode:"slim"})),l.a.createElement(K,null,l.a.createElement(G["a"],{onCopy:t},e.article.content)))});function Q(e,t,r){return["作者："+e,"链接："+"https://leetcode-cn.com"+"/problems/"+t+"/solution/"+r+"/","来源：力扣（LeetCode）","著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"].join("\n")}var ee=r("5ZzG");var te=r("JFCy");var re=Object(I["default"])("div",{target:"e5i1odf0"})({position:"relative",height:"40px",display:"flex",alignItems:"center",background:P["a"].grey0,flexWrap:"nowrap","& *":{fontSize:"12px"},borderBottom:"1px solid "+P["a"].grey2},"label:OperationsWrapper;");var oe=Object(I["default"])("div",{target:"e5i1odf1"})({position:"absolute",left:0,right:0,top:0,bottom:0,zIndex:1,display:"flex",justifyContent:"center"},"label:SwitchWrapper;");var ie=Object(I["default"])("div",{target:"e5i1odf2"})({minWidth:"40px",textAlign:"center",lineHeight:"37px",color:P["a"].dblue6},"label:DisplayCount;");var ne=Object(I["default"])(R["a"],{target:"e5i1odf3"})({zIndex:2,padding:"0 13px"},function(e){var t=e.isSticky;return t?{transform:"translateX(10px)"}:{}},"label:CloseButton;");var ae=function(e){u["__extends"](t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.render=function(){return l.a.createElement(re,null,l.a.createElement(ne,{size:te["e"],onClick:this.props.goBack,isSticky:this.props.isCloseButtonSticky},"关闭"),l.a.createElement(oe,null,l.a.createElement(R["a"],{type:"transparent",disabled:!this.props.goPrev,onClick:this.props.goPrev},l.a.createElement(ee["a"],{type:"angle-left"}),"上一题解"),l.a.createElement(ie,null,this.props.current," / ",this.props.totalNum),l.a.createElement(R["a"],{type:"transparent",disabled:!this.props.goNext,onClick:this.props.goNext},"下一题解",l.a.createElement(ee["a"],{type:"angle-right"}))))};return t}(l.a.PureComponent);var le=r("K/af");var ue=r("thsd");var se=r("aH7E");function ce(e){var t=e.article;var r=u["__read"](Object(le["a"])(se["a"]),1),o=r[0].question;var i=o.translatedTitle||o.title;if(!i){return null}var n="";if(t.byLeetcode){n="官方题解："+i}else if(t.isEditorsPick){n="精选题解："+t.title}else{n="题解："+t.title}var a=t.byLeetcode||t.isEditorsPick?Object(B["b"])(t.hitCount)+" 浏览，"+Object(B["b"])(t.upvoteCount)+" 个赞 "+t.summary:"这道题目居然还可以这么解。";return l.a.createElement(ue["a"],{title:t.title+" - "+i,ogTitle:n,description:"作者:"+t.author.username+" 摘要:"+t.summary,ogDescription:a})}var pe=Object(I["default"])("div",{target:"e5i1odf0"})({height:"100%",background:P["a"].white,display:"flex",flexDirection:"column",zIndex:1,pointerEvents:"all"},"label:SolutionDetailContainer;");var de=Object(I["default"])("div",{target:"e5i1odf1"})({flex:1,position:"relative",display:"flex",flexDirection:"column",overflowY:"auto",borderLeft:"1px solid "+P["a"].grey2,alignItems:"center"},"label:PageWrapper;");var fe=Object(I["default"])("div",{target:"e5i1odf2"})({padding:"0 20px",height:"100%",width:"100%",maxWidth:"800px"},"label:ContentWrapper;");var ve=Object(I["default"])("div",{target:"e5i1odf3"})({display:"flex",justifyContent:"space-between",padding:"20px 0",borderBottom:"1px solid "+P["a"].grey2,lineHeight:"17px","& *":{fontSize:"12px",color:P["a"].grey4}},"label:ContinueAndCopyRight;");var ge=Object(I["default"])("div",{target:"e5i1odf4"})({width:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer","&:hover":{color:P["a"].dblue7}},"label:Continue;");var me=Object(I["default"])("div",{target:"e5i1odf5"})({position:"relative"},"label:BarContainer;");var he=function(e){u["__extends"](t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;r.openNewSolution=function(e){var t=r.props.solutionDetail.articleList.articles[e].slug;r.props.history.push(J["a"].questionSolution(r.props.questionSlug,t))};r.goNext=function(){C["a"].questionDetail.solutionDetailClickNext({questionSlug:r.props.questionSlug});r.openNewSolution(r.currentArticleIndex+1)};r.goPrev=function(){C["a"].questionDetail.solutionDetailClickPrev({questionSlug:r.props.questionSlug});r.openNewSolution(r.currentArticleIndex-1)};r.goBack=function(){C["a"].questionDetail.solutionDetailClickBack({questionSlug:r.props.questionSlug});r.props.history.push(J["a"].questionSolution(r.props.questionSlug))};return r}Object.defineProperty(t.prototype,"currentArticleIndex",{get:function(){var r=this;var e=this.props.solutionDetail.articleList.articles;return e.findIndex(function(e){var t=e.slug;return t===r.props.articleSlug})},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"hasNext",{get:function(){return this.currentArticleIndex<this.props.solutionDetail.articleList.totalNum-1},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"hasPrev",{get:function(){return this.currentArticleIndex>0},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"loading",{get:function(){return this.props.solutionDetail.loading||this.props.solutionDetail.articleList.loading},enumerable:true,configurable:true});t.prototype.componentDidMount=function(){this.props.getArticleListSlim(this.props.questionSlug);this.props.getSolutionDetailArticle(this.props.articleSlug)};t.prototype.componentDidUpdate=function(e){if(e.articleSlug!==this.props.articleSlug){this.props.getSolutionDetailArticle(this.props.articleSlug)}};t.prototype.render=function(){return l.a.createElement(l.a.Fragment,null,this.renderHelmet(),this.renderOperations(),l.a.createElement(de,null,l.a.createElement(fe,null,this.renderContent(),this.renderComment())))};t.prototype.renderHelmet=function(){var e=this.props.solutionDetail.article;return e&&l.a.createElement(ce,{article:e})};t.prototype.renderComment=function(){var e=this.props.solutionDetail.article;var t=e&&e.topic&&e.topic.id;return t?l.a.createElement(O,{topicId:t,articleSlug:this.props.articleSlug,questionSlug:this.props.questionSlug,sharedCommentId:this.props.sharedCommentId,userStatus:this.props.userStatus}):null};t.prototype.renderOperations=function(){var e=this.currentArticleIndex+1;var t=this.hasNext?this.goNext:undefined;var r=this.hasPrev?this.goPrev:undefined;return l.a.createElement(ae,{current:e,totalNum:this.props.solutionDetail.articleList.totalNum,goNext:t,goPrev:r,goBack:this.goBack,isCloseButtonSticky:this.props.isCloseButtonSticky})};t.prototype.renderContent=function(){var e=this.props,t=e.solutionDetail,r=e.questionSlug;var o=t.article;if(this.loading){return l.a.createElement(H["a"],{size:"sm"})}else if(o){return l.a.createElement(l.a.Fragment,null,l.a.createElement($,{article:o,questionSlug:r}),this.renderContinueAndCopyRight())}else{return l.a.createElement(f["Redirect"],{to:J["a"].questionSolution(this.props.questionSlug)})}};t.prototype.renderContinueAndCopyRight=function(){return l.a.createElement(ve,null,this.renderContinue(),l.a.createElement(U["a"],{title:"© 著作权归作者所有"},"© 著作权归作者所有"))};t.prototype.renderContinue=function(){var e=this.props.solutionDetail.articleList.articles;if(this.hasNext){var t=e[this.currentArticleIndex+1].title;return l.a.createElement(ge,{onClick:this.goNext},"下一篇：",t)}if(this.hasPrev){var t=e[this.currentArticleIndex-1].title;return l.a.createElement(ge,{onClick:this.goPrev},"上一篇：",t)}};return t}(l.a.PureComponent);var Se=function(e){var t=e.solution,r=e.userStatus;return{solutionDetail:t.solutionDetail,solutions:t.solutions,solutionEditor:t.solutionEditor,userStatus:r}};var be=Object(d["a"])(n["c"])(Se)(Object(f["withRouter"])(he));function ye(e){return e===n["a"].DETAIL}var Ce=t["default"]=Object(o["memo"])(function(e){var t=e.match.params;Object(o["useEffect"])(function(){if(!ye(e.solutionAreaShownPart)){e.showSolutionDetail(e.solutionAreaShownPart)}},[t.articleSlug]);return l.a.createElement(pe,null,l.a.createElement(i["a"],null,l.a.createElement(be,{questionSlug:t.questionSlug,articleSlug:t.articleSlug,sharedCommentId:t.commentId,isCloseButtonSticky:e.isCloseButtonSticky}),l.a.createElement(me,null,l.a.createElement(M,{questionSlug:t.questionSlug,articleSlug:t.articleSlug}))))})}}]);