(window["nojMonomainWebpackJsonpproduction"]=window["nojMonomainWebpackJsonpproduction"]||[]).push([[98],{qrFu:function(e,t,r){"use strict";r.d(t,"a",function(){return s});r.d(t,"b",function(){return _});r.d(t,"c",function(){return b});var q=r("D57K");var k=r("/ebn");var u=r("hhN/");var o=r("lTsX");var Q=r("3U3H");var i=r("hE+J");var w=r("Vvrm");var n=r("MZHy");var b;(function(e){e[e["loading"]=1]="loading";e[e["setVariables"]=2]="setVariables";e[e["fetchMore"]=3]="fetchMore";e[e["refetch"]=4]="refetch";e[e["poll"]=6]="poll";e[e["ready"]=7]="ready";e[e["error"]=8]="error"})(b||(b={}));function S(e){return e<7}var y=function(e){Object(q["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype[i["default"]]=function(){return this};t.prototype["@@observable"]=function(){return this};return t}(o["a"]);function R(e){return Array.isArray(e)&&e.length>0}function j(e){return e.hasOwnProperty("graphQLErrors")}var c=function(e){var r="";if(R(e.graphQLErrors)){e.graphQLErrors.forEach(function(e){var t=e?e.message:"Error message not found.";r+="GraphQL error: "+t+"\n"})}if(e.networkError){r+="Network error: "+e.networkError.message+"\n"}r=r.replace(/\n$/,"");return r};var _=function(a){Object(q["__extends"])(s,a);function s(e){var t=e.graphQLErrors,r=e.networkError,o=e.errorMessage,i=e.extraInfo;var n=a.call(this,o)||this;n.graphQLErrors=t||[];n.networkError=r||null;if(!o){n.message=c(n)}else{n.message=o}n.extraInfo=i;n.__proto__=s.prototype;return n}return s}(Error);var E;(function(e){e[e["normal"]=1]="normal";e[e["refetch"]=2]="refetch";e[e["poll"]=3]="poll"})(E||(E={}));var l=function(e,t){if(t===void 0){t="none"}return e&&(e.networkError||t==="none"&&R(e.graphQLErrors))};var a=function(s){Object(q["__extends"])(e,s);function e(e){var t=e.queryManager,r=e.options,o=e.shouldSubscribe,i=o===void 0?true:o;var n=s.call(this,function(e){return n.onSubscribe(e)})||this;n.observers=new Set;n.subscriptions=new Set;n.isTornDown=false;n.options=r;n.variables=r.variables||{};n.queryId=t.generateQueryId();n.shouldSubscribe=i;var a=Object(k["getOperationDefinition"])(r.query);n.queryName=a&&a.name&&a.name.value;n.queryManager=t;return n}e.prototype.result=function(){var i=this;return new Promise(function(t,e){var r={next:function(e){t(e);i.observers.delete(r);if(!i.observers.size){i.queryManager.removeQuery(i.queryId)}setTimeout(function(){o.unsubscribe()},0)},error:e};var o=i.subscribe(r)})};e.prototype.currentResult=function(){var e=this.getCurrentResult();if(e.data===undefined){e.data={}}return e};e.prototype.getCurrentResult=function(){if(this.isTornDown){var e=this.lastResult;return{data:!this.lastError&&e&&e.data||void 0,error:this.lastError,loading:false,networkStatus:b.error}}var t=this.queryManager.getCurrentQueryResult(this),r=t.data,o=t.partial;var i=this.queryManager.queryStore.get(this.queryId);var n;var a=this.options.fetchPolicy;var s=a==="network-only"||a==="no-cache";if(i){var u=i.networkStatus;if(l(i,this.options.errorPolicy)){return{data:void 0,loading:false,networkStatus:u,error:new _({graphQLErrors:i.graphQLErrors,networkError:i.networkError})}}if(i.variables){this.options.variables=Object(q["__assign"])({},this.options.variables,i.variables);this.variables=this.options.variables}n={data:r,loading:S(u),networkStatus:u};if(i.graphQLErrors&&this.options.errorPolicy==="all"){n.errors=i.graphQLErrors}}else{var c=s||o&&a!=="cache-only";n={data:r,loading:c,networkStatus:c?b.loading:b.ready}}if(!o){this.updateLastResult(Object(q["__assign"])({},n,{stale:false}))}return Object(q["__assign"])({},n,{partial:o})};e.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&Object(u["a"])(t.data,e.data))};e.prototype.getLastResult=function(){return this.lastResult};e.prototype.getLastError=function(){return this.lastError};e.prototype.resetLastResults=function(){delete this.lastResult;delete this.lastResultSnapshot;delete this.lastError;this.isTornDown=false};e.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.queryStore.get(this.queryId);if(e){e.networkError=null;e.graphQLErrors=[]}};e.prototype.refetch=function(e){var t=this.options.fetchPolicy;if(t==="cache-only"){return Promise.reject(true?new w["a"](3):undefined)}if(t!=="no-cache"&&t!=="cache-and-network"){t="network-only"}if(!Object(u["a"])(this.variables,e)){this.variables=Object(q["__assign"])({},this.variables,e)}if(!Object(u["a"])(this.options.variables,this.variables)){this.options.variables=Object(q["__assign"])({},this.options.variables,this.variables)}return this.queryManager.fetchQuery(this.queryId,Object(q["__assign"])({},this.options,{fetchPolicy:t}),E.refetch)};e.prototype.fetchMore=function(r){var o=this;true?Object(w["b"])(r.updateQuery,4):undefined;var i=Object(q["__assign"])({},r.query?r:Object(q["__assign"])({},this.options,r,{variables:Object(q["__assign"])({},this.variables,r.variables)}),{fetchPolicy:"network-only"});var n=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(n,i,E.normal,this.queryId).then(function(t){o.updateQuery(function(e){return r.updateQuery(e,{fetchMoreResult:t.data,variables:i.variables})});o.queryManager.stopQuery(n);return t},function(e){o.queryManager.stopQuery(n);throw e})};e.prototype.subscribeToMore=function(t){var e=this;var r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(o){var i=t.updateQuery;if(i){e.updateQuery(function(e,t){var r=t.variables;return i(e,{subscriptionData:o,variables:r})})}},error:function(e){if(t.onError){t.onError(e);return}true||false}});this.subscriptions.add(r);return function(){if(e.subscriptions.delete(r)){r.unsubscribe()}}};e.prototype.setOptions=function(e){var t=this.options.fetchPolicy;this.options=Object(q["__assign"])({},this.options,e);if(e.pollInterval){this.startPolling(e.pollInterval)}else if(e.pollInterval===0){this.stopPolling()}var r=e.fetchPolicy;return this.setVariables(this.options.variables,t!==r&&(t==="cache-only"||t==="standby"||r==="network-only"),e.fetchResults)};e.prototype.setVariables=function(e,t,r){if(t===void 0){t=false}if(r===void 0){r=true}this.isTornDown=false;e=e||this.variables;if(!t&&Object(u["a"])(e,this.variables)){return this.observers.size&&r?this.result():Promise.resolve()}this.variables=this.options.variables=e;if(!this.observers.size){return Promise.resolve()}return this.queryManager.fetchQuery(this.queryId,this.options)};e.prototype.updateQuery=function(e){var t=this.queryManager;var r=t.getQueryWithPreviousResult(this.queryId),o=r.previousResult,i=r.variables,n=r.document;var a=Object(k["tryFunctionOrLogError"])(function(){return e(o,{variables:i})});if(a){t.dataStore.markUpdateQueryResult(n,i,a);t.broadcastQueries()}};e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId);this.options.pollInterval=undefined};e.prototype.startPolling=function(e){p(this);this.options.pollInterval=e;this.queryManager.startPollingQuery(this.options,this.queryId)};e.prototype.updateLastResult=function(e){var t=this.lastResult;this.lastResult=e;this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:Object(k["cloneDeep"])(e);return t};e.prototype.onSubscribe=function(e){var t=this;try{var r=e._subscription._observer;if(r&&!r.error){r.error=f}}catch(e){}var o=!this.observers.size;this.observers.add(e);if(e.next&&this.lastResult)e.next(this.lastResult);if(e.error&&this.lastError)e.error(this.lastError);if(o){this.setUpQuery()}return function(){if(t.observers.delete(e)&&!t.observers.size){t.tearDownQuery()}}};e.prototype.setUpQuery=function(){var a=this;var e=this,s=e.queryManager,t=e.queryId;if(this.shouldSubscribe){s.addObservableQuery(t,this)}if(this.options.pollInterval){p(this);s.startPollingQuery(this.options,t)}var r=function(e){h(a.observers,"error",a.lastError=e)};s.observeQuery(t,this.options,{next:function(r){if(a.lastError||a.isDifferentFromLastResult(r)){var o=a.updateLastResult(r);var e=a.options,i=e.query,t=e.variables,n=e.fetchPolicy;if(s.transform(i).hasClientExports){s.getLocalState().addExportedVariables(i,t).then(function(e){var t=a.variables;a.variables=a.options.variables=e;if(!r.loading&&o&&n!=="cache-only"&&s.transform(i).serverQuery&&!Object(u["a"])(t,e)){a.refetch()}else{h(a.observers,"next",r)}})}else{h(a.observers,"next",r)}}},error:r}).catch(r)};e.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=true;e.stopPollingQuery(this.queryId);this.subscriptions.forEach(function(e){return e.unsubscribe()});this.subscriptions.clear();e.removeObservableQuery(this.queryId);e.stopQuery(this.queryId);this.observers.clear()};return e}(y);function f(e){true||false}function h(e,t,r){var o=[];e.forEach(function(e){return e[t]&&o.push(e)});o.forEach(function(e){return e[t](r)})}function p(e){var t=e.options.fetchPolicy;true?Object(w["b"])(t!=="cache-first"&&t!=="cache-only",5):undefined}var d=function(){function e(){this.store={}}e.prototype.getStore=function(){return this.store};e.prototype.get=function(e){return this.store[e]};e.prototype.initMutation=function(e,t,r){this.store[e]={mutation:t,variables:r||{},loading:true,error:null}};e.prototype.markMutationError=function(e,t){var r=this.store[e];if(r){r.loading=false;r.error=t}};e.prototype.markMutationResult=function(e){var t=this.store[e];if(t){t.loading=false;t.error=null}};e.prototype.reset=function(){this.store={}};return e}();var v=function(){function e(){this.store={}}e.prototype.getStore=function(){return this.store};e.prototype.get=function(e){return this.store[e]};e.prototype.initQuery=function(e){var t=this.store[e.queryId];true?Object(w["b"])(!t||t.document===e.document||Object(u["a"])(t.document,e.document),19):undefined;var r=false;var o=null;if(e.storePreviousVariables&&t&&t.networkStatus!==b.loading){if(!Object(u["a"])(t.variables,e.variables)){r=true;o=t.variables}}var i;if(r){i=b.setVariables}else if(e.isPoll){i=b.poll}else if(e.isRefetch){i=b.refetch}else{i=b.loading}var n=[];if(t&&t.graphQLErrors){n=t.graphQLErrors}this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:o,networkError:null,graphQLErrors:n,networkStatus:i,metadata:e.metadata};if(typeof e.fetchMoreForQueryId==="string"&&this.store[e.fetchMoreForQueryId]){this.store[e.fetchMoreForQueryId].networkStatus=b.fetchMore}};e.prototype.markQueryResult=function(e,t,r){if(!this.store||!this.store[e])return;this.store[e].networkError=null;this.store[e].graphQLErrors=R(t.errors)?t.errors:[];this.store[e].previousVariables=null;this.store[e].networkStatus=b.ready;if(typeof r==="string"&&this.store[r]){this.store[r].networkStatus=b.ready}};e.prototype.markQueryError=function(e,t,r){if(!this.store||!this.store[e])return;this.store[e].networkError=t;this.store[e].networkStatus=b.error;if(typeof r==="string"){this.markQueryResultClient(r,true)}};e.prototype.markQueryResultClient=function(e,t){var r=this.store&&this.store[e];if(r){r.networkError=null;r.previousVariables=null;if(t){r.networkStatus=b.ready}}};e.prototype.stopQuery=function(e){delete this.store[e]};e.prototype.reset=function(t){var r=this;Object.keys(this.store).forEach(function(e){if(t.indexOf(e)<0){r.stopQuery(e)}else{r.store[e].networkStatus=b.loading}})};return e}();function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}var O=function(){function e(e){var t=e.cache,r=e.client,o=e.resolvers,i=e.fragmentMatcher;this.cache=t;if(r){this.client=r}if(o){this.addResolvers(o)}if(i){this.setFragmentMatcher(i)}}e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{};if(Array.isArray(e)){e.forEach(function(e){t.resolvers=Object(k["mergeDeep"])(t.resolvers,e)})}else{this.resolvers=Object(k["mergeDeep"])(this.resolvers,e)}};e.prototype.setResolvers=function(e){this.resolvers={};this.addResolvers(e)};e.prototype.getResolvers=function(){return this.resolvers||{}};e.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,o=e.context,i=e.variables,n=e.onlyRunForcedResolvers,a=n===void 0?false:n;return Object(q["__awaiter"])(this,void 0,void 0,function(){return Object(q["__generator"])(this,function(e){if(t){return[2,this.resolveDocument(t,r.data,o,i,this.fragmentMatcher,a).then(function(e){return Object(q["__assign"])({},r,{data:e.result})})]}return[2,r]})})};e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e};e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher};e.prototype.clientQuery=function(e){if(Object(k["hasDirectives"])(["client"],e)){if(this.resolvers){return e}true||false}return null};e.prototype.serverQuery=function(e){return this.resolvers?Object(k["removeClientSetsFromDocument"])(e):e};e.prototype.prepareContext=function(e){if(e===void 0){e={}}var t=this.cache;var r=Object(q["__assign"])({},e,{cache:t,getCacheKey:function(e){if(t.config){return t.config.dataIdFromObject(e)}else{true?Object(w["b"])(false,17):undefined}}});return r};e.prototype.addExportedVariables=function(t,r,o){if(r===void 0){r={}}if(o===void 0){o={}}return Object(q["__awaiter"])(this,void 0,void 0,function(){return Object(q["__generator"])(this,function(e){if(t){return[2,this.resolveDocument(t,this.buildRootValueFromCache(t,r)||{},this.prepareContext(o),r).then(function(e){return Object(q["__assign"])({},r,e.exportedVariables)})]}return[2,Object(q["__assign"])({},r)]})})};e.prototype.shouldForceResolvers=function(e){var t=false;Object(n["b"])(e,{Directive:{enter:function(e){if(e.name.value==="client"&&e.arguments){t=e.arguments.some(function(e){return e.name.value==="always"&&e.value.kind==="BooleanValue"&&e.value.value===true});if(t){return n["a"]}}}}});return t};e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Object(k["buildQueryFromSelectionSet"])(e),variables:t,returnPartialData:true,optimistic:false}).result};e.prototype.resolveDocument=function(l,f,h,p,d,v){if(h===void 0){h={}}if(p===void 0){p={}}if(d===void 0){d=function(){return true}}if(v===void 0){v=false}return Object(q["__awaiter"])(this,void 0,void 0,function(){var t,r,o,i,n,a,s,u,c;return Object(q["__generator"])(this,function(e){t=Object(k["getMainDefinition"])(l);r=Object(k["getFragmentDefinitions"])(l);o=Object(k["createFragmentMap"])(r);i=t.operation;n=i?m(i):"Query";a=this,s=a.cache,u=a.client;c={fragmentMap:o,context:Object(q["__assign"])({},h,{cache:s,client:u}),variables:p,fragmentMatcher:d,defaultOperationType:n,exportedVariables:{},onlyRunForcedResolvers:v};return[2,this.resolveSelectionSet(t.selectionSet,f,c).then(function(e){return{result:e,exportedVariables:c.exportedVariables}})]})})};e.prototype.resolveSelectionSet=function(o,u,c){return Object(q["__awaiter"])(this,void 0,void 0,function(){var i,n,a,s,t;var r=this;return Object(q["__generator"])(this,function(e){i=c.fragmentMap,n=c.context,a=c.variables;s=[u];t=function(o){return Object(q["__awaiter"])(r,void 0,void 0,function(){var t,r;return Object(q["__generator"])(this,function(e){if(!Object(k["shouldInclude"])(o,a)){return[2]}if(Object(k["isField"])(o)){return[2,this.resolveField(o,u,c).then(function(e){var t;if(typeof e!=="undefined"){s.push((t={},t[Object(k["resultKeyNameFromField"])(o)]=e,t))}})]}if(Object(k["isInlineFragment"])(o)){t=o}else{t=i[o.name.value];true?Object(w["b"])(t,18):undefined}if(t&&t.typeCondition){r=t.typeCondition.name.value;if(c.fragmentMatcher(u,r,n)){return[2,this.resolveSelectionSet(t.selectionSet,u,c).then(function(e){s.push(e)})]}}return[2]})})};return[2,Promise.all(o.selections.map(t)).then(function(){return Object(k["mergeDeepArray"])(s)})]})})};e.prototype.resolveField=function(f,h,p){return Object(q["__awaiter"])(this,void 0,void 0,function(){var t,r,o,i,n,a,s,u,c;var l=this;return Object(q["__generator"])(this,function(e){t=p.variables;r=f.name.value;o=Object(k["resultKeyNameFromField"])(f);i=r!==o;n=h[o]||h[r];a=Promise.resolve(n);if(!p.onlyRunForcedResolvers||this.shouldForceResolvers(f)){s=h.__typename||p.defaultOperationType;u=this.resolvers&&this.resolvers[s];if(u){c=u[i?r:o];if(c){a=Promise.resolve(c(h,Object(k["argumentsObjectFromField"])(f,t),p.context,{field:f}))}}}return[2,a.then(function(t){if(t===void 0){t=n}if(f.directives){f.directives.forEach(function(e){if(e.name.value==="export"&&e.arguments){e.arguments.forEach(function(e){if(e.name.value==="as"&&e.value.kind==="StringValue"){p.exportedVariables[e.value.value]=t}})}})}if(!f.selectionSet){return t}if(t==null){return t}if(Array.isArray(t)){return l.resolveSubSelectedArray(f,t,p)}if(f.selectionSet){return l.resolveSelectionSet(f.selectionSet,t,p)}})]})})};e.prototype.resolveSubSelectedArray=function(t,e,r){var o=this;return Promise.all(e.map(function(e){if(e===null){return null}if(Array.isArray(e)){return o.resolveSubSelectedArray(t,e,r)}if(t.selectionSet){return o.resolveSelectionSet(t.selectionSet,e,r)}}))};return e}();function g(t){var r=new Set;var o=null;return new y(function(e){r.add(e);o=o||t.subscribe({next:function(t){r.forEach(function(e){return e.next&&e.next(t)})},error:function(t){r.forEach(function(e){return e.error&&e.error(t)})},complete:function(){r.forEach(function(e){return e.complete&&e.complete()})}});return function(){if(r.delete(e)&&!r.size&&o){o.unsubscribe();o=null}}})}function M(u,c){return new y(function(r){var o=r.next,i=r.error,e=r.complete;var n=0;var a=false;var s={next:function(t){++n;new Promise(function(e){e(c(t))}).then(function(e){--n;o&&o.call(r,e);a&&s.complete()},function(e){--n;i&&i.call(r,e)})},error:function(e){i&&i.call(r,e)},complete:function(){a=true;if(!n){e&&e.call(r)}}};var t=u.subscribe(s);return function(){return t.unsubscribe()}})}var I=Object.prototype.hasOwnProperty;var P=function(){function e(e){var t=e.link,r=e.queryDeduplication,o=r===void 0?false:r,i=e.store,n=e.onBroadcast,a=n===void 0?function(){return undefined}:n,s=e.ssrMode,u=s===void 0?false:s,c=e.clientAwareness,l=c===void 0?{}:c,f=e.localState,h=e.assumeImmutableResults;this.mutationStore=new d;this.queryStore=new v;this.clientAwareness={};this.idCounter=1;this.queries=new Map;this.fetchQueryRejectFns=new Map;this.transformCache=new(k["canUseWeakMap"]?WeakMap:Map);this.inFlightLinkObservables=new Map;this.pollingInfoByQueryId=new Map;this.link=t;this.queryDeduplication=o;this.dataStore=i;this.onBroadcast=a;this.clientAwareness=l;this.localState=f||new O({cache:i.getCache()});this.ssrMode=u;this.assumeImmutableResults=!!h}e.prototype.stop=function(){var r=this;this.queries.forEach(function(e,t){r.stopQueryNoBroadcast(t)});this.fetchQueryRejectFns.forEach(function(e){e(true?new w["a"](6):undefined)})};e.prototype.mutate=function(e){var u=e.mutation,c=e.variables,l=e.optimisticResponse,f=e.updateQueries,t=e.refetchQueries,h=t===void 0?[]:t,r=e.awaitRefetchQueries,p=r===void 0?false:r,d=e.update,o=e.errorPolicy,v=o===void 0?"none":o,y=e.fetchPolicy,i=e.context,b=i===void 0?{}:i;return Object(q["__awaiter"])(this,void 0,void 0,function(){var n,o,a;var s=this;return Object(q["__generator"])(this,function(e){switch(e.label){case 0:true?Object(w["b"])(u,7):undefined;true?Object(w["b"])(!y||y==="no-cache",8):undefined;n=this.generateQueryId();u=this.transform(u).document;this.setQuery(n,function(){return{document:u}});c=this.getVariables(u,c);if(!this.transform(u).hasClientExports)return[3,2];return[4,this.localState.addExportedVariables(u,c,b)];case 1:c=e.sent();e.label=2;case 2:o=function(){var i={};if(f){s.queries.forEach(function(e,t){var r=e.observableQuery;if(r){var o=r.queryName;if(o&&I.call(f,o)){i[t]={updater:f[o],query:s.queryStore.get(t)}}}})}return i};this.mutationStore.initMutation(n,u,c);this.dataStore.markMutationInit({mutationId:n,document:u,variables:c,updateQueries:o(),update:d,optimisticResponse:l});this.broadcastQueries();a=this;return[2,new Promise(function(e,t){var r;var i;a.getObservableFromLink(u,Object(q["__assign"])({},b,{optimisticResponse:l}),c,false).subscribe({next:function(e){if(Object(k["graphQLResultHasError"])(e)&&v==="none"){i=new _({graphQLErrors:e.errors});return}a.mutationStore.markMutationResult(n);if(y!=="no-cache"){a.dataStore.markMutationResult({mutationId:n,result:e,document:u,variables:c,updateQueries:o(),update:d})}r=e},error:function(e){a.mutationStore.markMutationError(n,e);a.dataStore.markMutationComplete({mutationId:n,optimisticResponse:l});a.broadcastQueries();a.setQuery(n,function(){return{document:null}});t(new _({networkError:e}))},complete:function(){if(i){a.mutationStore.markMutationError(n,i)}a.dataStore.markMutationComplete({mutationId:n,optimisticResponse:l});a.broadcastQueries();if(i){t(i);return}if(typeof h==="function"){h=h(r)}var o=[];if(R(h)){h.forEach(function(r){if(typeof r==="string"){a.queries.forEach(function(e){var t=e.observableQuery;if(t&&t.queryName===r){o.push(t.refetch())}})}else{var e={query:r.query,variables:r.variables,fetchPolicy:"network-only"};if(r.context){e.context=r.context}o.push(a.query(e))}})}Promise.all(p?o:[]).then(function(){a.setQuery(n,function(){return{document:null}});if(v==="ignore"&&r&&Object(k["graphQLResultHasError"])(r)){delete r.errors}e(r)})}})})]}})})};e.prototype.fetchQuery=function(Q,w,O,S){return Object(q["__awaiter"])(this,void 0,void 0,function(){var t,r,o,i,n,a,s,u,c,l,f,h,p,d,v,y,b,m;var g=this;return Object(q["__generator"])(this,function(e){switch(e.label){case 0:t=w.metadata,r=t===void 0?null:t,o=w.fetchPolicy,i=o===void 0?"cache-first":o,n=w.context,a=n===void 0?{}:n;s=this.transform(w.query).document;u=this.getVariables(s,w.variables);if(!this.transform(s).hasClientExports)return[3,2];return[4,this.localState.addExportedVariables(s,u,a)];case 1:u=e.sent();e.label=2;case 2:w=Object(q["__assign"])({},w,{variables:u});l=i==="network-only"||i==="no-cache";f=l;if(!l){h=this.dataStore.getCache().diff({query:s,variables:u,returnPartialData:true,optimistic:false}),p=h.complete,d=h.result;f=!p||i==="cache-and-network";c=d}v=f&&i!=="cache-only"&&i!=="standby";if(Object(k["hasDirectives"])(["live"],s))v=true;y=this.idCounter++;b=i!=="no-cache"?this.updateQueryWatch(Q,s,w):undefined;this.setQuery(Q,function(){return{document:s,lastRequestId:y,invalidated:true,cancel:b}});this.invalidate(S);this.queryStore.initQuery({queryId:Q,document:s,storePreviousVariables:v,variables:u,isPoll:O===E.poll,isRefetch:O===E.refetch,metadata:r,fetchMoreForQueryId:S});this.broadcastQueries();if(v){m=this.fetchRequest({requestId:y,queryId:Q,document:s,options:w,fetchMoreForQueryId:S}).catch(function(e){if(j(e)){throw e}else{if(y>=g.getQuery(Q).lastRequestId){g.queryStore.markQueryError(Q,e,S);g.invalidate(Q);g.invalidate(S);g.broadcastQueries()}throw new _({networkError:e})}});if(i!=="cache-and-network"){return[2,m]}m.catch(function(){})}this.queryStore.markQueryResultClient(Q,!v);this.invalidate(Q);this.invalidate(S);if(this.transform(s).hasForcedResolvers){return[2,this.localState.runResolvers({document:s,remoteResult:{data:c},context:a,variables:u,onlyRunForcedResolvers:true}).then(function(e){g.markQueryResult(Q,e,w,S);g.broadcastQueries();return e})]}this.broadcastQueries();return[2,{data:c}]}})})};e.prototype.markQueryResult=function(e,t,r,o){var i=r.fetchPolicy,n=r.variables,a=r.errorPolicy;if(i==="no-cache"){this.setQuery(e,function(){return{newData:{result:t.data,complete:true}}})}else{this.dataStore.markQueryResult(t,this.getQuery(e).document,n,o,a==="ignore"||a==="all")}};e.prototype.queryListenerForObserver=function(g,Q,r){var w=this;function O(e,t){if(r[e]){try{r[e](t)}catch(e){true||false}}else if(e==="error"){true||false}}return function(e,t){w.invalidate(g,false);if(!e)return;var r=w.getQuery(g),o=r.observableQuery,i=r.document;var n=o?o.options.fetchPolicy:Q.fetchPolicy;if(n==="standby")return;var a=S(e.networkStatus);var s=o&&o.getLastResult();var u=!!(s&&s.networkStatus!==e.networkStatus);var c=Q.returnPartialData||!t&&e.previousVariables||u&&Q.notifyOnNetworkStatusChange||n==="cache-only"||n==="cache-and-network";if(a&&!c){return}var l=R(e.graphQLErrors);var f=o&&o.options.errorPolicy||Q.errorPolicy||"none";if(f==="none"&&l||e.networkError){return O("error",new _({graphQLErrors:e.graphQLErrors,networkError:e.networkError}))}try{var h=void 0;var p=void 0;if(t){if(n!=="no-cache"&&n!=="network-only"){w.setQuery(g,function(){return{newData:null}})}h=t.result;p=!t.complete}else{var d=o&&o.getLastError();var v=f!=="none"&&(d&&d.graphQLErrors)!==e.graphQLErrors;if(s&&s.data&&!v){h=s.data;p=false}else{var y=w.dataStore.getCache().diff({query:i,variables:e.previousVariables||e.variables,returnPartialData:true,optimistic:true});h=y.result;p=!y.complete}}var b=p&&!(Q.returnPartialData||n==="cache-only");var m={data:b?s&&s.data:h,loading:a,networkStatus:e.networkStatus,stale:b};if(f==="all"&&l){m.errors=e.graphQLErrors}O("next",m)}catch(e){O("error",new _({networkError:e}))}}};e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var r=this.dataStore.getCache();var o=r.transformDocument(e);var i=Object(k["removeConnectionDirectiveFromDocument"])(r.transformForLink(o));var n=this.localState.clientQuery(o);var a=this.localState.serverQuery(i);var s={document:o,hasClientExports:Object(k["hasClientExports"])(o),hasForcedResolvers:this.localState.shouldForceResolvers(o),clientQuery:n,serverQuery:a,defaultVars:Object(k["getDefaultValues"])(Object(k["getOperationDefinition"])(o))};var u=function(e){if(e&&!t.has(e)){t.set(e,s)}};u(e);u(o);u(n);u(a)}return t.get(e)};e.prototype.getVariables=function(e,t){return Object(q["__assign"])({},this.transform(e).defaultVars,t)};e.prototype.watchQuery=function(e,t){if(t===void 0){t=true}true?Object(w["b"])(e.fetchPolicy!=="standby",9):undefined;e.variables=this.getVariables(e.query,e.variables);if(typeof e.notifyOnNetworkStatusChange==="undefined"){e.notifyOnNetworkStatusChange=false}var r=Object(q["__assign"])({},e);return new a({queryManager:this,options:r,shouldSubscribe:t})};e.prototype.query=function(o){var i=this;true?Object(w["b"])(o.query,10):undefined;true?Object(w["b"])(o.query.kind==="Document",11):undefined;true?Object(w["b"])(!o.returnPartialData,12):undefined;true?Object(w["b"])(!o.pollInterval,13):undefined;return new Promise(function(e,t){var r=i.watchQuery(o,false);i.fetchQueryRejectFns.set("query:"+r.queryId,t);r.result().then(e,t).then(function(){return i.fetchQueryRejectFns.delete("query:"+r.queryId)})})};e.prototype.generateQueryId=function(){return String(this.idCounter++)};e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e);this.broadcastQueries()};e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e);this.queryStore.stopQuery(e);this.invalidate(e)};e.prototype.addQueryListener=function(e,r){this.setQuery(e,function(e){var t=e.listeners;t.add(r);return{invalidated:false}})};e.prototype.updateQueryWatch=function(o,e,t){var i=this;var r=this.getQuery(o).cancel;if(r)r();var n=function(){var e=null;var t=i.getQuery(o).observableQuery;if(t){var r=t.getLastResult();if(r){e=r.data}}return e};return this.dataStore.getCache().watch({query:e,variables:t.variables,optimistic:true,previousResult:n,callback:function(e){i.setQuery(o,function(){return{invalidated:true,newData:e}})}})};e.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})};e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}});if(t)t()};e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(e){e(true?new w["a"](14):undefined)});var o=[];this.queries.forEach(function(e,t){var r=e.observableQuery;if(r)o.push(t)});this.queryStore.reset(o);this.mutationStore.reset();return this.dataStore.reset()};e.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})};e.prototype.reFetchObservableQueries=function(i){var n=this;if(i===void 0){i=false}var a=[];this.queries.forEach(function(e,t){var r=e.observableQuery;if(r){var o=r.options.fetchPolicy;r.resetLastResults();if(o!=="cache-only"&&(i||o!=="standby")){a.push(r.refetch())}n.setQuery(t,function(){return{newData:null}});n.invalidate(t)}});this.broadcastQueries();return Promise.all(a)};e.prototype.observeQuery=function(e,t,r){this.addQueryListener(e,this.queryListenerForObserver(e,t,r));return this.fetchQuery(e,t)};e.prototype.startQuery=function(e,t,r){true||false;this.addQueryListener(e,r);this.fetchQuery(e,t).catch(function(){return undefined});return e};e.prototype.startGraphQLSubscription=function(e){var r=this;var o=e.query,i=e.fetchPolicy,t=e.variables;o=this.transform(o).document;t=this.getVariables(o,t);var n=function(t){return r.getObservableFromLink(o,{},t,false).map(function(e){if(!i||i!=="no-cache"){r.dataStore.markSubscriptionResult(e,o,t);r.broadcastQueries()}if(Object(k["graphQLResultHasError"])(e)){throw new _({graphQLErrors:e.errors})}return e})};if(this.transform(o).hasClientExports){var a=this.localState.addExportedVariables(o,t).then(n);return new y(function(t){var r=null;a.then(function(e){return r=e.subscribe(t)},t.error);return function(){return r&&r.unsubscribe()}})}return n(t)};e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e);this.broadcastQueries()};e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e);this.removeQuery(e)};e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e);this.fetchQueryRejectFns.delete("fetchRequest:"+e);this.getQuery(e).subscriptions.forEach(function(e){return e.unsubscribe()});this.queries.delete(e)};e.prototype.getCurrentQueryResult=function(e,t){if(t===void 0){t=true}var r=e.options,o=r.variables,i=r.query,n=r.fetchPolicy,a=r.returnPartialData;var s=e.getLastResult();var u=this.getQuery(e.queryId).newData;if(u&&u.complete){return{data:u.result,partial:false}}if(n==="no-cache"||n==="network-only"){return{data:undefined,partial:false}}var c=this.dataStore.getCache().diff({query:i,variables:o,previousResult:s?s.data:undefined,returnPartialData:true,optimistic:t}),l=c.result,f=c.complete;return{data:f||a?l:void 0,partial:!f}};e.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e==="string"){var r=this.getQuery(e).observableQuery;true?Object(w["b"])(r,15):undefined;t=r}else{t=e}var o=t.options,i=o.variables,n=o.query;return{previousResult:this.getCurrentQueryResult(t,false).data,variables:i,document:n}};e.prototype.broadcastQueries=function(){var o=this;this.onBroadcast();this.queries.forEach(function(t,r){if(t.invalidated){t.listeners.forEach(function(e){if(e){e(o.queryStore.get(r),t.newData)}})}})};e.prototype.getLocalState=function(){return this.localState};e.prototype.getObservableFromLink=function(e,t,r,o){var i=this;if(o===void 0){o=this.queryDeduplication}var n;var a=this.transform(e).serverQuery;if(a){var s=this,u=s.inFlightLinkObservables,c=s.link;var l={query:a,variables:r,operationName:Object(k["getOperationName"])(a)||void 0,context:this.prepareContext(Object(q["__assign"])({},t,{forceFetch:!o}))};t=l.context;if(o){var f=u.get(a)||new Map;u.set(a,f);var h=JSON.stringify(r);n=f.get(h);if(!n){f.set(h,n=g(Object(Q["execute"])(c,l)));var p=function(){f.delete(h);if(!f.size)u.delete(a);d.unsubscribe()};var d=n.subscribe({next:p,error:p,complete:p})}}else{n=g(Object(Q["execute"])(c,l))}}else{n=y.of({data:{}});t=this.prepareContext(t)}var v=this.transform(e).clientQuery;if(v){n=M(n,function(e){return i.localState.runResolvers({document:v,remoteResult:e,context:t,variables:r})})}return n};e.prototype.fetchRequest=function(e){var a=this;var s=e.requestId,u=e.queryId,c=e.document,l=e.options,f=e.fetchMoreForQueryId;var h=l.variables,t=l.errorPolicy,p=t===void 0?"none":t,d=l.fetchPolicy;var v;var y;return new Promise(function(e,i){var t=a.getObservableFromLink(c,l.context,h);var r="fetchRequest:"+u;a.fetchQueryRejectFns.set(r,i);var o=function(){a.fetchQueryRejectFns.delete(r);a.setQuery(u,function(e){var t=e.subscriptions;t.delete(n)})};var n=t.map(function(e){if(s>=a.getQuery(u).lastRequestId){a.markQueryResult(u,e,l,f);a.queryStore.markQueryResult(u,e,f);a.invalidate(u);a.invalidate(f);a.broadcastQueries()}if(p==="none"&&R(e.errors)){return i(new _({graphQLErrors:e.errors}))}if(p==="all"){y=e.errors}if(f||d==="no-cache"){v=e.data}else{var t=a.dataStore.getCache().diff({variables:h,query:c,optimistic:false,returnPartialData:true}),r=t.result,o=t.complete;if(o||l.returnPartialData){v=r}}}).subscribe({error:function(e){o();i(e)},complete:function(){o();e({data:v,errors:y,loading:false,networkStatus:b.ready,stale:false})}});a.setQuery(u,function(e){var t=e.subscriptions;t.add(n)})})};e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:false,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}};e.prototype.setQuery=function(e,t){var r=this.getQuery(e);var o=Object(q["__assign"])({},r,t(r));this.queries.set(e,o)};e.prototype.invalidate=function(e,t){if(t===void 0){t=true}if(e){this.setQuery(e,function(){return{invalidated:t}})}};e.prototype.prepareContext=function(e){if(e===void 0){e={}}var t=this.localState.prepareContext(e);return Object(q["__assign"])({},t,{clientAwareness:this.clientAwareness})};e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==b.ready&&t.networkStatus!==b.error};e.prototype.startPollingQuery=function(e,t,r){var o=this;var i=e.pollInterval;true?Object(w["b"])(i,16):undefined;if(!this.ssrMode){var n=this.pollingInfoByQueryId.get(t);if(!n){this.pollingInfoByQueryId.set(t,n={})}n.interval=i;n.options=Object(q["__assign"])({},e,{fetchPolicy:"network-only"});var a=function(){var e=o.pollingInfoByQueryId.get(t);if(e){if(o.checkInFlight(t)){s()}else{o.fetchQuery(t,e.options,E.poll).then(s,s)}}};var s=function(){var e=o.pollingInfoByQueryId.get(t);if(e){clearTimeout(e.timeout);e.timeout=setTimeout(a,e.interval)}};if(r){this.addQueryListener(t,r)}s()}return t};e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)};return e}();var F=function(){function e(e){this.cache=e}e.prototype.getCache=function(){return this.cache};e.prototype.markQueryResult=function(e,t,r,o,i){if(i===void 0){i=false}var n=!Object(k["graphQLResultHasError"])(e);if(i&&Object(k["graphQLResultHasError"])(e)&&e.data){n=true}if(!o&&n){this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:r})}};e.prototype.markSubscriptionResult=function(e,t,r){if(!Object(k["graphQLResultHasError"])(e)){this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:r})}};e.prototype.markMutationInit=function(r){var o=this;if(r.optimisticResponse){var i;if(typeof r.optimisticResponse==="function"){i=r.optimisticResponse(r.variables)}else{i=r.optimisticResponse}this.cache.recordOptimisticTransaction(function(e){var t=o.cache;o.cache=e;try{o.markMutationResult({mutationId:r.mutationId,result:{data:i},document:r.document,variables:r.variables,updateQueries:r.updateQueries,update:r.update})}finally{o.cache=t}},r.mutationId)}};e.prototype.markMutationResult=function(u){var c=this;if(!Object(k["graphQLResultHasError"])(u.result)){var l=[{result:u.result.data,dataId:"ROOT_MUTATION",query:u.document,variables:u.variables}];var f=u.updateQueries;if(f){Object.keys(f).forEach(function(e){var t=f[e],r=t.query,o=t.updater;var i=c.cache.diff({query:r.document,variables:r.variables,returnPartialData:true,optimistic:false}),n=i.result,a=i.complete;if(a){var s=Object(k["tryFunctionOrLogError"])(function(){return o(n,{mutationResult:u.result,queryName:Object(k["getOperationName"])(r.document)||undefined,queryVariables:r.variables})});if(s){l.push({result:s,dataId:"ROOT_QUERY",query:r.document,variables:r.variables})}}})}this.cache.performTransaction(function(t){l.forEach(function(e){return t.write(e)});var e=u.update;if(e){Object(k["tryFunctionOrLogError"])(function(){return e(t,u.result)})}})}};e.prototype.markMutationComplete=function(e){var t=e.mutationId,r=e.optimisticResponse;if(r){this.cache.removeOptimistic(t)}};e.prototype.markUpdateQueryResult=function(e,t,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:t,query:e})};e.prototype.reset=function(){return this.cache.reset()};return e}();var L="2.6.3";var x=false;var s=function(){function e(e){var t=this;this.defaultOptions={};this.resetStoreCallbacks=[];this.clearStoreCallbacks=[];var r=e.cache,o=e.ssrMode,i=o===void 0?false:o,n=e.ssrForceFetchDelay,a=n===void 0?0:n,s=e.connectToDevTools,u=e.queryDeduplication,c=u===void 0?true:u,l=e.defaultOptions,f=e.assumeImmutableResults,h=f===void 0?false:f,p=e.resolvers,d=e.typeDefs,v=e.fragmentMatcher,y=e.name,b=e.version;var m=e.link;if(!m&&p){m=Q["ApolloLink"].empty()}if(!m||!r){throw true?new w["a"](1):undefined}this.link=m;this.cache=r;this.store=new F(r);this.disableNetworkFetches=i||a>0;this.queryDeduplication=c;this.defaultOptions=l||{};this.typeDefs=d;if(a){setTimeout(function(){return t.disableNetworkFetches=false},a)}this.watchQuery=this.watchQuery.bind(this);this.query=this.query.bind(this);this.mutate=this.mutate.bind(this);this.resetStore=this.resetStore.bind(this);this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var g=false&&false;if(typeof s==="undefined"?g:s&&typeof window!=="undefined"){window.__APOLLO_CLIENT__=this}if(!x&&"production"!=="production"){x=true;if(typeof window!=="undefined"&&window.document&&window.top===window.self){if(typeof window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__==="undefined"){if(window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1){console.debug("Download the Apollo DevTools "+"for a better development experience: "+"https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")}}}}this.version=L;this.localState=new O({cache:r,client:this,resolvers:p,fragmentMatcher:v});this.queryManager=new P({link:this.link,store:this.store,queryDeduplication:c,ssrMode:i,clientAwareness:{name:y,version:b},localState:this.localState,assumeImmutableResults:h,onBroadcast:function(){if(t.devToolsHookCb){t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(true)})}}})}e.prototype.stop=function(){this.queryManager.stop()};e.prototype.watchQuery=function(e){if(this.defaultOptions.watchQuery){e=Object(q["__assign"])({},this.defaultOptions.watchQuery,e)}if(this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")){e=Object(q["__assign"])({},e,{fetchPolicy:"cache-first"})}return this.queryManager.watchQuery(e)};e.prototype.query=function(e){if(this.defaultOptions.query){e=Object(q["__assign"])({},this.defaultOptions.query,e)}true?Object(w["b"])(e.fetchPolicy!=="cache-and-network",2):undefined;if(this.disableNetworkFetches&&e.fetchPolicy==="network-only"){e=Object(q["__assign"])({},e,{fetchPolicy:"cache-first"})}return this.queryManager.query(e)};e.prototype.mutate=function(e){if(this.defaultOptions.mutate){e=Object(q["__assign"])({},this.defaultOptions.mutate,e)}return this.queryManager.mutate(e)};e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)};e.prototype.readQuery=function(e,t){if(t===void 0){t=false}return this.cache.readQuery(e,t)};e.prototype.readFragment=function(e,t){if(t===void 0){t=false}return this.cache.readFragment(e,t)};e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);this.queryManager.broadcastQueries();return t};e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);this.queryManager.broadcastQueries();return t};e.prototype.writeData=function(e){var t=this.cache.writeData(e);this.queryManager.broadcastQueries();return t};e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e};e.prototype.__requestRaw=function(e){return Object(Q["execute"])(this.link,e)};e.prototype.initQueryManager=function(){true||false;return this.queryManager};e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.reFetchObservableQueries()})};e.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))})};e.prototype.onResetStore=function(t){var e=this;this.resetStoreCallbacks.push(t);return function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter(function(e){return e!==t})}};e.prototype.onClearStore=function(t){var e=this;this.clearStoreCallbacks.push(t);return function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter(function(e){return e!==t})}};e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)};e.prototype.extract=function(e){return this.cache.extract(e)};e.prototype.restore=function(e){return this.cache.restore(e)};e.prototype.addResolvers=function(e){this.localState.addResolvers(e)};e.prototype.setResolvers=function(e){this.localState.setResolvers(e)};e.prototype.getResolvers=function(){return this.localState.getResolvers()};e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)};return e}();var D=s}}]);