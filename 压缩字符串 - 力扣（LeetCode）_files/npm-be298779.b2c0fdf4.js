(window["nojMonomainWebpackJsonpproduction"]=window["nojMonomainWebpackJsonpproduction"]||[]).push([[180],{n81s:function(e,n,t){(function(v){(function(e,r){true?r(n,t("3U3H"),t("0k2V"),t("pu3o"),t("/ebn")):undefined})(this,function(e,b,g,l,ne){"use strict";var t={test:function(e){return e.name.value==="rest"},remove:true};var i=new Map;function T(e){var r=i.get(e);if(r)return r;ne.checkDocument(e);var n=ne.removeDirectivesFromDocument([t],e);i.set(e,n);return n}var r=undefined&&undefined.__extends||function(){var t=function(e,r){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)if(r.hasOwnProperty(n))e[n]=r[n]};return t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var te=undefined&&undefined.__assign||function(){te=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i))e[i]=r[i]}return e};return te.apply(this,arguments)};var n=undefined&&undefined.__awaiter||function(a,o,s,u){return new(s||(s=Promise))(function(e,r){function n(e){try{i(u.next(e))}catch(e){r(e)}}function t(e){try{i(u["throw"](e))}catch(e){r(e)}}function i(r){r.done?e(r.value):new s(function(e){e(r.value)}).then(n,t)}i((u=u.apply(a,o||[])).next())})};var ie=undefined&&undefined.__generator||function(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,a,o,r;return r={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(e){return u([r,e])}}function u(r){if(i)throw new TypeError("Generator is already executing.");while(t)try{if(i=1,a&&(o=r[0]&2?a["return"]:r[0]?a["throw"]||((o=a["return"])&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;if(a=0,o)r=[r[0]&2,o.value];switch(r[0]){case 0:case 1:o=r;break;case 4:t.label++;return{value:r[1],done:false};case 5:t.label++;a=r[1];r=[0];continue;case 7:r=t.ops.pop();t.trys.pop();continue;default:if(!(o=t.trys,o=o.length>0&&o[o.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!o||r[1]>o[0]&&r[1]<o[3])){t.label=r[1];break}if(r[0]===6&&t.label<o[1]){t.label=o[1];o=r;break}if(o&&t.label<o[2]){t.label=o[2];t.ops.push(r);break}if(o[2])t.ops.pop();t.trys.pop();continue}r=n.call(e,t)}catch(e){r=[6,e];a=0}finally{i=o=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:true}}};var a=undefined;var o=function(e){var i=e.replace(/\s/g,"");var r=i.replace(/\[(.*)\]/,function(e,r,n,t){return((r!=null&&r.length)>0?r:null)||i});return r};var ae=function(e,r,n){if(Array.isArray(e)){var t=o(r);return e.map(function(e){return ae(e,t,n)})}if(null==e||typeof e==="number"||typeof e==="boolean"||typeof e==="string"){return e}return n(e,r,n)};var s=function(e){if(e.directives&&e.directives.length){return e.directives.find(function(e){return"rest"===e.name.value})}return null};function oe(t,i,a,o,e){if(e==null||null==i||typeof i==="number"||typeof i==="boolean"||typeof i==="string"){return i}e.selections.forEach(function(e){if(ne.isInlineFragment(e)){oe(t,i,a,o,e.selectionSet)}else if(e.kind==="FragmentSpread"){var r=o[e.name.value];oe(t,i,a,o,r.selectionSet)}else if(ne.isField(e)){var n=ne.resultKeyNameFromField(e);if(n===t&&s(e)!=null){u(i,a,o,e.selectionSet)}else{oe(t,i,a,o,e.selectionSet)}}else{return function(e){throw new Error("Unhandled Node Type in SelectionSetNode.selections")}(e)}});return i}function u(t,i,a,r){if(null==t||typeof t==="number"||typeof t==="boolean"||typeof t==="string"){return}if(Array.isArray(t)){t.forEach(function(e){return u(e,i,a,r)});return}r.selections.forEach(function(e){if(ne.isInlineFragment(e)){u(t,i,a,e.selectionSet)}else if(e.kind==="FragmentSpread"){var r=a[e.name.value];u(t,i,a,r.selectionSet)}else if(ne.isField(e)){var n=t[e.name.value];if(e.name.value==="__typename");else if(typeof n==="undefined"){t[e.name.value]=null}else if(n!=null&&typeof n==="object"&&e.selectionSet!=null){u(n,i,a,e.selectionSet)}}else{return function(e){throw new Error("Unhandled Node Type in SelectionSetNode.selections")}(e)}})}var se=function(e,r){var n=e[r||A]||e[A];if(typeof n==="string"){return{uri:n}}return te({responseTransformer:null},n)};var ue=function(e,r,n){if(n===undefined||r===undefined){return e}return e.replace(":"+r,n)};var le=function(){function u(){}u.replacerForPath=function(a){if(a in u.cache){return u.cache[a]}var t=a.indexOf("?");var e=a.split(u.argReplacement);var o=[];var s=false;e.reduce(function(e,r){if(r===""||r==="{}"){return e+r.length}var n=e+r.length;if(r[0]==="{"&&r[r.length-1]==="}"){var i=r.slice(1,r.length-1).split(".");o.push(function(e,r){try{var n=c(e,i);if(!r||(typeof n!=="object"||n==null)){return String(n)}else{return l.stringify(n)}}catch(e){var t=[a,i.join(".")].join("|");if(!(t in u.warnTable)){console.warn("Warning: RestLink caught an error while unpacking",t,"This tends to happen if you forgot to pass a parameter needed for creating an @rest(path, or if RestLink was configured to deeply unpack a path parameter that wasn't provided. This message will only log once per detected instance. Trouble-shooting hint: check @rest(path: and the variables provided to this query.");u.warnTable[t]=true}return""}})}else{o.push(r);if(!s&&n>=t){s=true;o.push(true)}}return n},0);var r=function(n){var t=false;var e=o.reduce(function(e,r){if(typeof r==="string"){return e+r}else if(typeof r==="boolean"){t=true;return e}else{return e+r(n,t)}},"");return e};return u.cache[a]=r};u.cache={};u.warnTable={};u.argReplacement=/({[._a-zA-Z0-9]*})/;return u}();function c(e,r){if(r.length===0){return e}var n=r.slice();var t=n.shift();return c(e[t],n)}var f=["__typename"];var ce=function(i,n,a){if(a===void 0){a=[]}var o=null;if(n.length!=2){o=function(e,r){return n(e)}}else{o=n}if(i==null||typeof i!=="object"){return i}if(v.FileList&&i instanceof FileList||v.File&&i instanceof File){return i}if(Array.isArray(i)){return i.map(function(e,r){return ce(e,o,a.concat([String(r)]))})}return Object.keys(i).reduce(function(e,r){var n=i[r];if(f.indexOf(r)!==-1){e[r]=n;return e}var t=a.concat([r]);e[o(r,t)]=ce(n,o,t);return e},{})};var fe=function(e){return e};var w=function(e){if(e instanceof Headers){return e}else{return new Headers(e||{})}};var E=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return e.reduce(function(n,e){if(!e){return n}if(!e.forEach){e=w(e)}e.forEach(function(e,r){n.append(r,e)});return n},new Headers)};var p=function(e,n,r){var t=new Headers;e.forEach(function(e,r){if(n.indexOf(r)!==-1){return}t.append(r,e)});return E(t,r||new Headers)};var k=function(n){return function(e,r){return p(e,n,r)}};var d=["GET","POST","PUT","PATCH","DELETE"];var pe=function(e,r){switch(r){case"query":if(d.indexOf(e.toUpperCase())!==-1){return}throw new Error('A "query" operation can only support "GET" requests but got "'+e+'".');case"mutation":if(d.indexOf(e.toUpperCase())!==-1){return}throw new Error('"mutation" operations do not support that HTTP-verb');case"subscription":throw new Error('A "subscription" operation is not supported yet.');default:var n=r;return n}};var de=function(e,r,n){var t=new Error(n);t.response=e;t.statusCode=e.status;t.result=r;throw t};var he=function(e,r){if(e===null||e===undefined||typeof e!=="object"){return e}if(!Array.isArray(e)){e["__typename"]=r;return e}return e.map(function(e){return he(e,r)})};var _=function(X,Y,$,ee,re){return n(a,void 0,void 0,function(){var r,n,t,i,a,o,s,u,l,c,f,p,d,h,v,y,m,w,b,g,T,E,k,_,A,x,O,S,z,N,P,j,F,D,R,L,q,M,C,H,B,U,V,G,I,K,J,W,Q,Z;return ie(this,function(e){switch(e.label){case 0:r=re.directives,n=re.isLeaf,t=re.resultKey;i=ee.exportVariablesByNode;a=i.get(Y)||{};o=function(e){if(e instanceof Array){e.forEach(o)}else{i.set(e,te({},a))}return e};s=(Y||{})[t];u=(Y||{})[X];if(Y&&r&&r.export){a[r.export.as]=u}l=r&&r.type;if(!n&&l){if(r.rest){throw new Error("Invalid use of @type(name: ...) directive on a call that also has @rest(...)")}return[2,he(u,r.type.name)]}c=!r||!r.rest;if(c){return[2,o(s||u)]}f=ee.credentials,p=ee.endpoints,d=ee.headers,h=ee.customFetch,v=ee.operationType,y=ee.typePatcher,m=ee.mainDefinition,w=ee.fragmentDefinitions,b=ee.fieldNameNormalizer,g=ee.fieldNameDenormalizer,T=ee.serializers,E=ee.responseTransformer;k=ne.createFragmentMap(w);_=r.rest,A=_.path,x=_.endpoint,O=_.pathBuilder;S=se(p,x);z=A==null&&O==null;if(z){throw new Error('One of ("path" | "pathBuilder") must be set in the @rest() directive. This request had neither, please add one')}if(!O){if(!A.includes(":")){O=le.replacerForPath(A)}else{console.warn("Deprecated: '@rest(path:' contains a ':' colon, this format will be removed in future versions");O=function(e){var r=e.args,n=e.exportVariables;var t=te({},r,n);var i=Object.keys(t).reduce(function(e,r){return ue(e,r,t[r])},A);if(i.includes(":")){throw new Error("Missing parameters to run query, specify it in the query params or use "+'an export directive. (If you need to use ":" inside a variable string'+" make sure to encode the variables properly using `encodeURIComponent"+"`. Alternatively see documentation about using pathBuilder.)")}return i}}}N={args:$,exportVariables:a,context:ee,"@rest":r.rest,replacer:O};P=O(N);j=r.rest,F=j.method,D=j.type,R=j.bodyBuilder,L=j.bodyKey,q=j.fieldNameDenormalizer,M=j.bodySerializer;if(!F){F="GET"}if(!L){L="input"}C=undefined;H=undefined;if(-1===["GET","DELETE"].indexOf(F)){if(!R){B=N.exportVariables[L]||N.args&&N.args[L];if(!B){throw new Error("[GraphQL "+F+" "+v+" using a REST call without a body]. No `"+L+"` was detected. Pass bodyKey, or bodyBuilder to the @rest() directive to resolve this.")}R=function(e){return B}}C=ce(R(N),q||g||fe);U=void 0;if(typeof M==="string"){if(!T.hasOwnProperty(M)){throw new Error('"bodySerializer" must correspond to configured serializer. '+("Please make sure to specify a serializer called "+M+' in the "bodySerializers" property of the RestLink.'))}U=T[M](C,d)}else{U=M?M(C,d):T[ve](C,d)}C=U.body;H=new Headers(U.headers)}pe(F,v||"query");V=te({method:F,headers:H||d,body:C},f?{credentials:f}:{});G=""+S.uri+P;return[4,(h||fetch)(G,V)];case 1:I=e.sent();ee.responses.push(I);if(!I.ok)return[3,2];if(I.status===204||I.headers.get("Content-Length")==="0"){K={}}else{K=I}return[3,9];case 2:if(!(I.status===404))return[3,3];K=null;return[3,9];case 3:J=void 0;e.label=4;case 4:e.trys.push([4,6,,8]);return[4,I.clone().json()];case 5:J=e.sent();return[3,8];case 6:W=e.sent();return[4,I.clone().text()];case 7:J=e.sent();return[3,8];case 8:de(I,J,"Response not successful: Received status code "+I.status);e.label=9;case 9:Q=S.responseTransformer||E;if(!Q)return[3,14];e.label=10;case 10:e.trys.push([10,12,,13]);return[4,Q(K,D)];case 11:K=e.sent();return[3,13];case 12:Z=e.sent();console.warn("An error occurred in a responseTransformer:");throw Z;case 13:return[3,16];case 14:if(!(K&&K.json))return[3,16];return[4,K.json()];case 15:K=e.sent();e.label=16;case 16:if(b!==null){K=ce(K,b)}K=oe(t,K,m,k,m.selectionSet);K=ae(K,D,y);return[2,o(K)]}})})};var A="";var ve="";var x=function(e,r){if(!r.has("content-type")){r.append("Content-Type","application/json")}return{body:JSON.stringify(e),headers:r}};var h=function(m){r(e,m);function e(e){var r;var n=e.uri,t=e.endpoints,i=e.headers,a=e.fieldNameNormalizer,o=e.fieldNameDenormalizer,s=e.typePatcher,u=e.customFetch,l=e.credentials,c=e.bodySerializers,f=e.defaultSerializer,p=e.responseTransformer;var d=m.call(this)||this;var h={};h[A]=n||"";d.endpoints=Object.assign({},t||h);if(n==null&&t==null){throw new Error("A RestLink must be initialized with either 1 uri, or a map of keyed-endpoints")}if(n!=null){var v=(t||{})[A];if(v!=null&&v!=n){throw new Error("RestLink was configured with a default uri that doesn't match what's passed in to the endpoints map.")}d.endpoints[A]=n}if(d.endpoints[A]==null){console.warn("RestLink configured without a default URI. All @rest(…) directives must provide an endpoint key!")}if(s==null){d.typePatcher=function(e,r,n){return te({__typename:r},e)}}else if(!Array.isArray(s)&&typeof s==="object"&&Object.keys(s).map(function(e){return s[e]}).reduce(function(e,r){return e&&typeof r==="function"},true)){var y=s;d.typePatcher=function(e,r,n){var t=e.__typename||r;if(Array.isArray(e)){return e.map(function(e){return n(e,t,n)})}var i=y[t]||function(e){return e};return te({__typename:t},i(e,t,n))}}else{throw new Error("RestLink was configured with a typePatcher of invalid type!")}if(c&&c.hasOwnProperty(ve)){console.warn("RestLink was configured to override the default serializer! This may result in unexpected behavior")}d.responseTransformer=p||null;d.fieldNameNormalizer=a||null;d.fieldNameDenormalizer=o||null;d.headers=w(i);d.credentials=l||null;d.customFetch=u;d.serializers=te((r={},r[ve]=f||x,r),c||{});return d}e.prototype.request=function(e,r){var n=e.query,i=e.variables,t=e.getContext,a=e.setContext;var o=t();var s=ne.hasDirectives(["rest"],n);if(!s){return r(e)}var u=T(n);var l=o.headersMergePolicy;if(l==null&&Array.isArray(o.headersToOverride)){l=k(o.headersToOverride)}else if(l==null){l=E}var c=l(this.headers,o.headers);if(!c.has("Accept")){c.append("Accept","application/json")}var f=o.credentials||this.credentials;var p=ne.addTypenameToDocument(n);var d=ne.getMainDefinition(n);var h=ne.getFragmentDefinitions(n);var v=(d||{}).operation||"query";var y={headers:c,endpoints:this.endpoints,exportVariablesByNode:new Map,credentials:f,customFetch:this.customFetch,operationType:v,fieldNameNormalizer:this.fieldNameNormalizer,fieldNameDenormalizer:this.fieldNameDenormalizer,mainDefinition:d,fragmentDefinitions:h,typePatcher:this.typePatcher,serializers:this.serializers,responses:[],responseTransformer:this.responseTransformer};var m={};var w;if(u&&r){e.query=u;w=r(e)}else w=b.Observable.of({data:{}});return w.flatMap(function(e){var n=e.data,t=e.errors;return new b.Observable(function(r){g.graphql(_,p,n,y,i,m).then(function(e){a({restResponses:(o.restResponses||[]).concat(y.responses)});r.next({data:e,errors:t});r.complete()}).catch(function(e){if(e.name==="AbortError")return;if(e.result&&e.result.errors){r.next(e.result)}r.error(e)})})})};return e}(b.ApolloLink);e.RestLink=h;e.PathBuilder=le;Object.defineProperty(e,"__esModule",{value:true})})}).call(this,t("fRV1"))}}]);