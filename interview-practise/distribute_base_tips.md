## 分布式相关基础知识

### 1. 架构演变历程

**1. 单体应用架构**

```markdown
概念：所有的功能都在一个应用里。
好处是：开发、测试、部署方便、本地调用对于远程调用性能较好。
坏处是：
    a. 系统耦合性能高，随着代码越多，代码质量和开发效率都会变低。
    b. 修改的地方可能牵一发动全身。某个模块出问题了，可能导致整个应用都要回滚。
    c. 语言单一，不能根据场景选择更加合适的语言。
    d. 系统整体的可用性不高。系统不易于扩展部署。
```

**2. 微服务架构**

```markdown
概念：根据不同的业务拆分出不同的服务，每个服务独立部署，代码进行了物理隔离。数据库可能也拆分出来，每个服务维护的是自己的数据库。数据库之间的数据通过接口传递。
好处：
    a. 系统的耦合度降低
    b. 系统整体可靠性变高
    c. 技术选型丰富，不同的服务可以利用不同的技术或语言实现
    d. 可以根据服务来进行扩展部署
坏处：
    a. 引入分布式链路追踪服务来定位问题
    b. 引入 ELK 方便日志的查看，分析问题
    c. 为了可以动态扩容，服务需要自动注册和自动被发现，需要一个注册中心
    d. 网络之间的调用较为不可靠，调用需要添加重试机制，限流机制，熔断措施等等
    e. 特殊的时候让出硬件资源给核心功能，需要有降级策略
    f. 每个服务都需要配置，因此还需要一个配置中心来做统一管理。
    g. 整体的监控
    h. devops、容器等等
```

**3. SOA 和 微服务**

```markdown
SOA(Service-Oriented Architecture) 面向服务的架构。而说到 SOA 就离不开 ESB(Enterprise Service Bus) SOA 和 微服务 一样都是面向服务的。
```

![](/Users/cqj/project/private/leetcode-practice/statics/soa_architecture.jpg)

```markdown
SOA：
SOA 架构通过企业服务总线进行交互，即中心化，需要按照总线的标准进行开发改造。

微服务：
则是去中心化的。SOA 更加注重企业资源的重复利用，把企业的各个应用通过 ESB 进行整合。微服务注重的是应用级别的服务划分，使得应用内服务边界清晰，易扩展。

当然也可以是 SOA 内包含 微服务 的这样一个总架构。
```

**4. 分布式和集群**

```markdown
分布式：
分布式可以认为是通过网络连接多个组建而形成的系统。前后端分离其实就算分布式。我们常提到的分布式是指不同的组件通过协作构成的系统。

集群：
通常指的是同一个组件多个实例而构成逻辑上的整体。
```

### 2.
