## 计算机网络基础
[直接看大神的github](https://github.com/justStarNew/Backend-Interview-Guide/blob/master/doc/%E4%B8%80%E6%96%87%E5%B8%AE%E4%BD%A0%E7%90%86%E6%B8%85%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9.md)

网上都是抄来抄去还越抄越错的答案，因此，祭出我们的课本！！！！！《计算机网络基础》

### 1. ★★★ 各层协议的作用，以及 TCP/IP 协议的特点

结合 OSI 七层协议(太多太复杂) 和 TCP/IP(太少) 四层协议的优点，说一下五层协议的体系结构，自上而下介绍：

**1. application layer(应用层)**：

应用层的 **任务** 是 **通过应用进程间的交互来完成特定网络应用**。应用层协议的 **定义** 就是应用进程间通信和交互的规则。这里的 **进程** 指的就是主机中正在运行的程序。应用层协议有：**HTTP、FTP、SMTP** 等等。应用层交互的数据单元成为 **报文(message)。**

 **2. transport layer(运输层)**：

传输层的 **任务** 是负责向 **两个主机中进程之间的通信** 提供 **通用的数据传输** 服务。应用进程利用该服务传送应用层报文。运输层有 **复用** 和 **分用** 的功能，**复用** 就是多个应用层进程可以同时使用下面运输层的服务。**分用** 就是运输层把收到的信息分别交付上面应用层中的相应进程。运输层主要使用以下两种协议：

+ TCP(transport control protocol)

提供 **面向连接**的、**可靠**的数据传输服务，数据传输单位是 **报文段(segment)**。

+ UDP(User datagram protocol)

提供 **无连接**的、**尽最大努力**的数据传输服务，数据的传输单位是 **用户数据报**。

**3. network layer(网络层)**:

网络层的 **任务** 是负责 **为分组交换网上的不同主机提供通信服务**。发送数据时，网络层会把运输层产生的报文段或者用户数据报封装成 **分组** 或 **包(packet)** 进行传送。网络层使用的是 **IP 协议**，因此分组也叫做 **IP 数据报**。

网络层的 **另一个任务** 是 **选择合适的路由，使源主机从传输层下来的分组可以通过网络中的路由器找到目的主机。**

**4. data link layer(数据链路层)**:

两台主机之间的数据传输，总是在一段一段的链路上传送的。数据链路层将网络层下来的数据报组装成 **帧(framing)**，在两个相邻节点间的链路上传送 帧(frame)。每一帧都包含数据和必要的控制信息(同步信息、地址信息、差错控制等)。

**5. physical layer(物理层)**：

在物理层上所传数据的单位是 bit，物理层要考虑用多大的电压来表示 1 和 0。要确认连接电缆的插头应当有多少根引脚以及各条引脚之间应该如何连接。

通过应用进程间的交互来完成特定网络应用。应用层协议就是

#### 1.1 TCP/IP 协议的特点
[知乎 TCP/IP协议到底在讲什么](https://www.zhihu.com/question/51074319)

    涵盖了OSI模型中的第三层和第四层，也就是网络层和传输层。TCP/IP也不光光是这两种协议，而是一个协议族。里面其实是有很多协议的。甚至还包括了ARP、UDP、DHCP、HTTP。

---------------------
### 2. ★★★ 理解三次握手以及四次挥手具体过程，三次握手的原因、四次挥手原因、TIME_WAIT 的作用。
+ **TCP**
    + TCP **建立连接**，**三次握手**
        + 首先，双方都处于监听的状态，等待客户的连接请求
        + 这时候，A向B发送了一个连接请求(SYN=1, ACK=0)
        + B收到请求报文以后，如果同意建立连接，就会向A发送一个确认报文(SYN=1, ACK=1)
        + A收到B的确认连接报文以后，还要向B发送一个确认包(ACK=1)
        + A和B确认以后，建立连接

    + **三次握手的**原因
        + 第三次握手是为了防止失效的数据包到达服务器，让服务器错误地打开连接。
        + 客户端的网络请求，如果在网络中发生了滞留，假设服务器要很长时间才能收到这个请求连接的数据包。客户端会等待一个超时重传的时间。重新发送请求连接的数据包。这个时候，服务器那边终于收到了这个请求连接的数据包了，然后朝客户端这里发了一个同意建立连接的数据包。这个时候客户端会因为超时而忽略这个数据包。不会进行第三次握手，因此也就不会打开连接。

    + TCP **释放连接**，**四次挥手**
        + A发送释放报文，FIN=1
        + B收到之后发送确认，此时的连接处于半关闭的状态，B能够向A发送数据，但是A已经不能向B发送数据了
        + 当B也不再需要连接的时候，发送连接释放的报文，FIN=1
        + A收到时候发送确认，进入TIME_WAIT状态，等到报文最长存活时间过了以后，释放连接

    + **四次挥手**的原因
        + 1. 由于A发送了关闭连接的请求以后，B发送确认数据包，此时连接就处于半关闭的状态了。这样做是为了让B继续传送他未传完的文件部分。传送完毕以后，B端会发送FIN连接来释放报文。
    
    + **TIME_WAIT**的作用
        + 插播一句骚话：昨天回家晚了 家里的猫闹脾气了 饭也没怎么吃 早上起来也不催我给她弄吃的..... 这家伙...... 都是放我鸽子的面试官不好 害我等他这么久 晚上十二点还吃了一顿烧烤。
        + 确保最后的一个确认报文能够到达，如果说B没有收到A的确认报文，就会重新发送释放请求报文，所以A要等待一段时间才会完全关闭。
        + 为了让本次连接内的所有报文在网络中消失，使得下一个连接中不会出现旧的请求连接报文。

---------------------
### 3. ★★★ 可靠传输原理，并设计可靠 UDP 协议。

+ 这道题并没有说清楚 还有问题

+ TCP **发送数据包**，发送一个数据包给对方，对方回一个数据包，里面没有数据，只有确认信号
    + 使用超时重传来实现可靠运输 如果一个已经发送的报文段在一定的时间内没有收到确认报文，那么就要重传这个报文。

+ 设计可靠的UDP协议: 加上确认数据包？

---------------------
### 4. ★★★ UDP 与 TCP 比较，分析上层协议应该使用 UDP 还是 TCP。
+ **TCP特点**：  
    + 面向连接，提供可靠交付，有流量控制、拥塞控制、提供全双工通信，面向字节流，每条连接都只能是点对点的。
+ **UDP特点**
    + 无连接，尽最大可能交付，没有拥塞控制，面向报文，支持一对一，一对多，多对多的交互通信。

---------------------
### 5. ★★★ GET 与 POST 比较：作用、参数、安全性、幂等性、可缓存。
+ 作用
    + GET: 向服务器获取数据
    + POST：想服务器提交数据
+ 参数
    + GET: 规范指出GET请求参数最好都放在URL里面，不建议携带请求体。参数与URI之间以逗号分开，参数之间使用&进行连接。
    + POST: 规范指出POST请求参数最好都放在请求体里面。
        + application/x-www-from-urlencoded: 将表单里面的数据转换成key-value的形式；形如key1=val1&key2=val2的方式进行URL转码。
        + raw：
+ 安全性
+ 幂等性
+ 可缓存

---------------------
### ★★☆ 以太网的特点，以及帧结构。

---------------------
### ★★☆ 集线器、交换机、路由器的作用，以及所属的网络层。

### ★★☆ IP 数据数据报常见字段的作用。

### ★☆☆ ARP 协议的作用，以及维护 ARP 缓存的过程。

### ★★☆ ICMP 报文种类以及作用；和 IP 数据报的关系；Ping 和 Traceroute 的具体原理。

### ★★☆ TCP 拥塞控制的作用，理解具体原理。

### ★★☆ DNS 的端口号；TCP 还是 UDP；作为缓存、负载均衡。

### ★★☆ HTTP 状态码。

### ★★★ Cookie 作用、安全性问题、和 Session 的比较。

### ★★☆ 缓存 的Cache-Control 字段，特别是 Expires 和 max-age 的区别。ETag 验证原理。

### ★★★ 长连接与短连接原理以及使用场景，流水线。

### ★★★ HTTP 存在的安全性问题，以及 HTTPs 的加密、认证和完整性保护作用。

### ★★☆ HTTP/1.x 的缺陷，以及 HTTP/2 的特点。

### ★★★ HTTP/1.1 的特性。

### ★★☆ HTTP 与 FTP 的比较。

### ★★☆ 五种 IO 模型的特点以及比较。

### ★★★ select、poll、epoll 的原理、比较、以及使用场景；epoll 的水平触发与边缘触发。