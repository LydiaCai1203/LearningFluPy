## 第二章：从内核出发

### 2.1 内核开发的特点

```markdown
1. 没有内存保护机制的
不应该去做访问非法的内存地址，引用空指针之类的事情，否则它可能死掉，却根本不通知你一声。且内核中的内存都不进行分页。也就是说，没用掉一个字节，物理内存就会减少一个字节。

2. 不要轻易在内核中使用浮点数
在用户空间的进程内进行浮点数操作时，内核会完成从整数操作到浮点数操作的模式转换。内核并不能完美地支持浮点操作。

3. 容积小而固定的栈
用户空间的程序可以从栈上分配大量的空间来存放变量，因为用户空间的栈本身比较大，而且还可以动态地增长。内核栈的准确大小随着体系结构而改变，从历史上说，是两页。

4. 同步和并发
内核很容易产生竞争条件。内核的许多特定要求能够并发地访问共享数据，这就要求有同步机制以保证不出现竞争条件。

5. 可移植的重要性
要将与体系结构相关的代码从内核代码树的特定目录中适当地分离出来。
```




