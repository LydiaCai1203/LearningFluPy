# 设计和历史常见问题

[TOC]
-------------------------------------
### 为什么Python使用缩紧来分组语句
    因为龟叔自己喜欢 并且觉得大家都会喜欢(ps:一个函数的长度应该适合一个屏幕 比如20行)

### 为什么浮点数的计算不准确
    CPython中的float使用的是C语言的double类型进行存储的，这些浮点数的实现都是依赖于处理器中的硬件来实现的，也就以为这Python的浮点数运算和主流的编程语言行为是比较一致的。十进制小数点的表示是乘二取整的，直到满足合适的精度为止。总结来说还是和二进制表示有关系。

### 为什么Python中的字符串是不可变的
    因为知道是不可变的话就可以在创建的时候分配空间。也就是说存储需求是固定不变的。Python里的字符串被视为和数字一样的基本，任何动作都不会将字符串"8"更改为其它值。emmnn 不太理解了，意思是比较安全吗，因为是不可变的。

### 为什么必须在方法定义和调用中显示使用self
    1. 使用实例变量的时候需要指明命名空间。因为局部变量和实例变量是存在于两个不同的命名空间中的。
    还有两个原因没大看懂说的是什么意思所以就没有整理上来了。

### 为什么不能在表达式中进行赋值
```python
if (x=0){} else {}
```
    因为将0赋值给x以后，if 0这个结果是显然可以预期到的，所以直接使用while False就可以。
    如果是因为不能使用while (line=readline()) 建议可以自己封装成一个迭代器。

### 为什么对于某些就使用list.index()方法来实现，而某些功能就直接使用函数来实现
    当读到len(x)的时候很快就能知道两个信息，一个是知道返回的结果是一个整数，另一个就是x肯定是某种容器。但是当你使用x.len()的时候，意味着你肯定事先就要知道x是一个容器，并且已经实现了某种接口。

### 为什么join是一个字符串方法而不是一个列表或者元组的方法
    因为这样可以适用于任何遵循列表规则的对象。

### 异常有多快
    如果没有异常的时候，try/catch这一块的效率异常高，要知道捕获异常的代价是很高的。不应该轻易地去捕获异常，或许应该使用其它的方法进行折中。比如说当使用到mydict.get(key, None),这个就需要进行进行判断key是否存在，然后在进行赋值。其实完全可以使用mydict.setdefault(key, value)来进行实现。

### 为什么Python中没有switch/case语句
```python
def visit_a(self, ...):
    ...
...

def dispatch(self, value):
    method_name = 'visit_' + str(value)
    method = getattr(self, method_name)
    method()
```
    这条语句可以避免使用过多的if/else语句

### Python是如何管理内存的
    Python的标准实现CPython使用的是引用计数来检测不可访问的对象，并且使用了另一种机制进行收集引用循环。会定期进行循环检测算法来查找不可访问的循环，以便于删除所涉及到的对象。gc模块提供了执行垃圾回收、获取调试统计信息和优化收集器参数的函数。